'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reactRedux = require('react-redux');

var clean = function clean(str) {
  return str.replace('_use_case', '');
};
var snakeToCamel = function snakeToCamel(str) {
  return str.replace(/(_\w)/g, function (match) {
    return match[1].toUpperCase();
  });
};

var mapResponseToProps = function mapResponseToProps() {
  for (var _len = arguments.length, services = Array(_len), _key = 0; _key < _len; _key++) {
    services[_key] = arguments[_key];
  }

  return function (Target) {
    var Enhance = (0, _reactRedux.connect)(function (state) {
      return services.reduce(function (props, service) {
        var prop = snakeToCamel(clean(service));
        props[prop] = state[service].result;
        props[prop + 'Params'] = state[service].params;
        props[prop + 'Error'] = state[service].error;
        return props;
      }, {});
    })(Target);

    Enhance.originalContextTypes = Target.originalContextTypes || Target.contextTypes;
    Enhance.displayName = 'mapResponseToProps(' + Target.displayName + ')';
    return Enhance;
  };
};
exports.default = mapResponseToProps;